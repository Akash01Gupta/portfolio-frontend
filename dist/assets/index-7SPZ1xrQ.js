const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Cq-Ewm6P.js","assets/vendor-0v3dOGbV.js","assets/motion-Bcebls9X.js","assets/ContactSection-EgNFvYq3.js","assets/About-D67AAOk_.js","assets/GitHubProjects-RMKHziJS.js"])))=>i.map(i=>d[i]);
import{r as l,j as e,ab as _,ac as k,ad as C,ae as L,af as g,ag as R,ah as D,ai as I,aj as O,ak as B}from"./vendor-0v3dOGbV.js";import{R as y,a as u,N as z,L as j,u as F,b as M,B as $}from"./router-Dx6_lyax.js";import{m as N,A as T}from"./motion-Bcebls9X.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const U="modulepreload",q=function(t){return"/"+t},S={},b=function(o,n,a){let r=Promise.resolve();if(n&&n.length>0){let v=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");r=v(n.map(d=>{if(d=q(d),d in S)return;S[d]=!0;const h=d.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${x}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":U,h||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),h)return new Promise((E,P)=>{p.addEventListener("load",E),p.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return r.then(i=>{for(const c of i||[])c.status==="rejected"&&s(c.reason);return o().catch(s)})};function V(){const[t,o]=l.useState(!1),[n,a]=l.useState(!1),r=[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"Projects",href:"/projects"},{label:"Contact",href:"/contact"}];return l.useEffect(()=>{const s=()=>{a(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),e.jsxs(N.nav,{initial:{y:-40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:`fixed top-0 left-0 w-full z-50 transition-all duration-500 ${n?"bg-black/80 backdrop-blur-md border-b border-white/10 shadow-lg":"bg-transparent"}`,children:[e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-6 md:px-12 py-4",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2",children:e.jsx("img",{src:"/logo.svg",alt:"Logo",className:"h-9 sm:h-10 w-auto object-contain hover:scale-105 transition-transform duration-300"})}),e.jsx("ul",{className:"hidden md:flex items-center gap-10",children:r.map(s=>e.jsx("li",{children:e.jsx("a",{href:s.href,className:"text-sm font-medium text-gray-200 hover:text-cyan-400 transition-colors",children:s.label})},s.href))}),e.jsx("button",{onClick:()=>o(!t),className:"md:hidden text-gray-200 text-2xl focus:outline-none",children:t?e.jsx(_,{}):e.jsx(k,{})})]}),e.jsx(T,{children:t&&e.jsx(N.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`md:hidden bg-black/90 backdrop-blur-md border-t border-white/10 
                       flex flex-col items-center gap-6 py-6`,children:r.map(s=>e.jsx("a",{href:s.href,onClick:()=>o(!1),className:"text-gray-200 hover:text-cyan-400 font-medium text-base transition-colors",children:s.label},s.href))})})]})}function Y(){return e.jsxs("footer",{className:"py-8 text-center text-sm text-gray-400 border-t border-white/10 bg-[#030b1a]",children:["© ",new Date().getFullYear()," Akash Gupta — Software Developer"]})}function H(){const t=l.useRef(),o=5e3,n=new Float32Array(o*3);for(let a=0;a<o*3;a++)n[a]=(Math.random()-.5)*10;return L(()=>{t.current.rotation.y+=5e-4}),e.jsxs("points",{ref:t,children:[e.jsx("bufferGeometry",{children:e.jsx("bufferAttribute",{attach:"attributes-position",count:n.length/3,array:n,itemSize:3})}),e.jsx("pointsMaterial",{color:"#00ffff",size:.02,sizeAttenuation:!0,transparent:!0,opacity:.6})]})}const G=()=>e.jsx("div",{className:"absolute inset-0 z-0",children:e.jsx(C,{camera:{position:[0,0,5]},children:e.jsx(H,{})})}),X=({children:t})=>e.jsxs("div",{className:"relative min-h-screen bg-[#0a0a0a] text-white overflow-hidden",children:[e.jsx(G,{}),e.jsx(V,{}),e.jsx("main",{className:"relative z-10",children:t}),e.jsx(Y,{})]});g.registerPlugin(R);const W=()=>{g.utils.toArray("section").forEach(t=>{g.fromTo(t,{autoAlpha:0,y:60},{autoAlpha:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 85%",end:"bottom 20%",toggleActions:"play none none none"}})}),g.utils.toArray(".parallax-container").forEach(t=>{const o=t.querySelectorAll("[data-depth]");o.length&&(t.addEventListener("mousemove",n=>{const a=t.getBoundingClientRect(),r=(n.clientX-a.left)/a.width-.5,s=(n.clientY-a.top)/a.height-.5;o.forEach(i=>{const c=parseFloat(i.getAttribute("data-depth")||"0.5");g.to(i,{x:r*30*c,y:s*20*c,rotateX:-s*6*c,rotateY:r*8*c,ease:"power3.out",duration:.9})})}),o.forEach(n=>{const a=parseFloat(n.getAttribute("data-depth")||"0.5");g.to(n,{y:()=>`${-50*a}px`,ease:"none",scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:.6}})}))})},K=l.lazy(()=>b(()=>import("./Home-Cq-Ewm6P.js"),__vite__mapDeps([0,1,2,3]))),J=l.lazy(()=>b(()=>import("./About-D67AAOk_.js"),__vite__mapDeps([4,1,2]))),Q=l.lazy(()=>b(()=>import("./GitHubProjects-RMKHziJS.js"),__vite__mapDeps([5,1,2]))),Z=l.lazy(()=>b(()=>import("./ContactSection-EgNFvYq3.js").then(t=>t.a),__vite__mapDeps([3,1,2])));function ee(){return l.useEffect(()=>{W()},[]),e.jsx("div",{className:"min-h-screen bg-[#020617] text-white overflow-x-hidden",children:e.jsx(X,{children:e.jsx(l.Suspense,{fallback:e.jsx("div",{className:"text-center py-10",children:"Loading..."}),children:e.jsxs(y,{children:[e.jsx(u,{path:"/",element:e.jsx(K,{})}),e.jsx(u,{path:"/about",element:e.jsx(J,{})}),e.jsx(u,{path:"/projects",element:e.jsx(Q,{})}),e.jsx(u,{path:"/contact",element:e.jsx(Z,{})})]})})})})}const w=l.createContext();function te({children:t}){const[o,n]=l.useState(()=>{const s=localStorage.getItem("admin_token");if(!s)return null;try{const i=D(s);return{token:s,email:i.email}}catch{return null}}),a=s=>{localStorage.setItem("admin_token",s),n({token:s})},r=()=>{localStorage.removeItem("admin_token"),n(null)};return e.jsx(w.Provider,{value:{admin:o,login:a,logout:r},children:t})}const se="https://backend-portfolio.onrender.com/api",m=I.create({baseURL:se});m.interceptors.request.use(t=>{const o=localStorage.getItem("admin_token")||localStorage.getItem("user_token");return o&&(t.headers.Authorization=`Bearer ${o}`),t});m.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("admin_token"),localStorage.removeItem("user_token"),window.location.href="/login"),Promise.reject(t)));function ae({onSuccess:t}){const[o,n]=l.useState(""),[a,r]=l.useState(""),[s,i]=l.useState(""),{login:c}=l.useContext(w),v=async d=>{d.preventDefault();try{const h=await m.post("/admin/auth/login",{email:o,password:a}),{token:x}=h.data;c(x),t?.()}catch(h){i(h.response?.data?.message||"Login failed")}};return e.jsxs("div",{className:"max-w-md mx-auto mt-20 p-8 bg-white/5 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Admin Login"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsx("input",{className:"w-full p-3 rounded bg-transparent border border-gray-700",placeholder:"Email",value:o,onChange:d=>n(d.target.value)}),e.jsx("input",{className:"w-full p-3 rounded bg-transparent border border-gray-700",type:"password",placeholder:"Password",value:a,onChange:d=>r(d.target.value)}),e.jsx("button",{className:"w-full bg-blue-600 py-3 rounded",children:"Login"}),s&&e.jsx("div",{className:"text-red-400 text-sm",children:s})]})]})}function f({children:t}){const{admin:o}=l.useContext(w);return o?t:e.jsx(z,{to:"/admin/login",replace:!0})}function re(){return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx(j,{to:"/admin/projects",className:"p-4 bg-white/5 rounded",children:"Manage Projects"}),e.jsx(j,{to:"/admin/about",className:"p-4 bg-white/5 rounded",children:"Edit About / Skills"}),e.jsx(j,{to:"/admin/messages",className:"p-4 bg-white/5 rounded",children:"Contact Messages"})]})]})}function ne(){const[t,o]=l.useState([]),n=async()=>{const r=await m.get("/admin/projects");o(r.data)};l.useEffect(()=>{n()},[]);const a=async r=>{confirm("Delete this project?")&&(await m.delete(`/admin/projects/${r}`),n())};return e.jsxs("div",{className:"p-6 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Projects"}),e.jsx(j,{to:"/admin/projects/new",className:"px-4 py-2 bg-blue-600 rounded-lg",children:"+ New Project"})]}),e.jsx("div",{className:"space-y-4",children:t.map(r=>e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl flex justify-between items-center border border-white/10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:r.title}),e.jsxs("div",{className:"text-gray-400 text-sm",children:[r.description?.slice(0,120),"..."]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(j,{to:`/admin/projects/${r._id}/edit`,className:"px-4 py-1 border rounded-lg border-blue-500",children:"Edit"}),e.jsx("button",{onClick:()=>a(r._id),className:"px-4 py-1 bg-red-600 rounded-lg",children:"Delete"})]})]},r._id))})]})}function A(){const{id:t}=F(),o=M(),[n,a]=l.useState({title:"",description:"",tags:"",homepage:"",repo:"",image:""});l.useEffect(()=>{t&&m.get(`/admin/projects/${t}`).then(s=>{const i=s.data;a({...i,tags:i.tags?.join(", ")||""})})},[t]);const r=async s=>{s.preventDefault();const i={...n,tags:n.tags.split(",").map(c=>c.trim()).filter(Boolean)};t?await m.put(`/admin/projects/${t}`,i):await m.post("/admin/projects",i),o("/admin/projects")};return e.jsxs("div",{className:"p-6 max-w-2xl mx-auto text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:t?"Edit Project":"Create New Project"}),e.jsxs("form",{onSubmit:r,className:"space-y-4",children:[["title","homepage","repo","image"].map(s=>e.jsx("input",{value:n[s],onChange:i=>a({...n,[s]:i.target.value}),className:"w-full p-3 rounded bg-black/30 border border-gray-700",placeholder:s.toUpperCase()},s)),e.jsx("textarea",{value:n.description,onChange:s=>a({...n,description:s.target.value}),className:"w-full p-3 rounded bg-black/30 border border-gray-700",rows:5,placeholder:"Description"}),e.jsx("input",{value:n.tags,onChange:s=>a({...n,tags:s.target.value}),className:"w-full p-3 rounded bg-black/30 border border-gray-700",placeholder:"tags, comma separated"}),e.jsx("button",{className:"w-full py-3 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-semibold",children:"Save Project"})]})]})}function oe(){const[t,o]=l.useState({headline:"",bio:"",skills:""});l.useEffect(()=>{m.get("/admin/about").then(a=>{const r=a.data||{};o({headline:r.headline||"",bio:r.bio||"",skills:(r.skills||[]).join(", ")})})},[]);const n=async a=>{a.preventDefault();const r={headline:t.headline,bio:t.bio,skills:t.skills.split(",").map(s=>s.trim()).filter(Boolean)};await m.post("/admin/about",r),alert("Saved")};return e.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit About"}),e.jsxs("form",{onSubmit:n,className:"space-y-3",children:[e.jsx("input",{className:"w-full p-3 rounded bg-transparent border",value:t.headline,onChange:a=>o({...t,headline:a.target.value}),placeholder:"Headline"}),e.jsx("textarea",{className:"w-full p-3 rounded bg-transparent border",value:t.bio,onChange:a=>o({...t,bio:a.target.value}),rows:6,placeholder:"Bio"}),e.jsx("input",{className:"w-full p-3 rounded bg-transparent border",value:t.skills,onChange:a=>o({...t,skills:a.target.value}),placeholder:"skills comma separated"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 rounded",children:"Save"})]})]})}function ie(){const[t,o]=l.useState([]);l.useEffect(()=>{m.get("/admin/messages").then(a=>o(a.data))},[]);const n=async a=>{await m.put(`/admin/messages/${a}/read`),o(r=>r.map(s=>s._id===a?{...s,read:!0}:s))};return e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Contact Messages"}),e.jsx("div",{className:"space-y-3",children:t.map(a=>e.jsxs("div",{className:"p-4 bg-white/5 rounded",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:[a.name," • ",a.email]}),e.jsx("div",{className:"text-sm text-gray-300",children:new Date(a.createdAt).toLocaleString()})]}),e.jsx("div",{children:!a.read&&e.jsx("button",{onClick:()=>n(a._id),className:"px-3 py-1 bg-blue-600 rounded",children:"Mark read"})})]}),e.jsx("p",{className:"mt-2 text-gray-300",children:a.message})]},a._id))})]})}function le(){return e.jsx(te,{children:e.jsxs("div",{className:"min-h-screen bg-[#020617] text-white",children:[e.jsxs("nav",{className:"p-4 border-b border-white/5 flex justify-between",children:[e.jsx(j,{to:"/admin",className:"font-bold",children:"Admin"}),e.jsx("div",{children:e.jsx("a",{href:"/",className:"text-sm text-gray-400 mr-4",children:"View site"})})]}),e.jsxs(y,{children:[e.jsx(u,{path:"login",element:e.jsx(ae,{onSuccess:()=>window.location.href="/admin"})}),e.jsx(u,{path:"/",element:e.jsx(f,{children:e.jsx(re,{})})}),e.jsx(u,{path:"projects",element:e.jsx(f,{children:e.jsx(ne,{})})}),e.jsx(u,{path:"projects/new",element:e.jsx(f,{children:e.jsx(A,{})})}),e.jsx(u,{path:"projects/:id/edit",element:e.jsx(f,{children:e.jsx(A,{})})}),e.jsx(u,{path:"about",element:e.jsx(f,{children:e.jsx(oe,{})})}),e.jsx(u,{path:"messages",element:e.jsx(f,{children:e.jsx(ie,{})})})]})]})})}O.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx($,{children:e.jsxs(y,{children:[e.jsx(u,{path:"/admin/*",element:e.jsx(le,{})}),e.jsx(u,{path:"/*",element:e.jsx(ee,{})})]})})}));
